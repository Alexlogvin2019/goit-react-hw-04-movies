(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{15:function(e,t,a){e.exports={nav:"Navigation_nav__1h64-",list:"Navigation_list__2kN6o",listItem:"Navigation_listItem__2QamO",link:"Navigation_link__1fahE",activeLink:"Navigation_activeLink__15yU-"}},17:function(e,t,a){e.exports={imageBox:"Cast_imageBox__2EbzI",character:"Cast_character__XPNfj",characterName:"Cast_characterName__2GnHU",actorCard:"Cast_actorCard__2Z2ke",name:"Cast_name__3MZsF",list:"Cast_list__3YLzP",listItem:"Cast_listItem__2lI1d"}},19:function(e,t,a){e.exports={imageBox:"MDP_imageBox__3_oXC",movieCard:"MDP_movieCard__AbfVZ",mainInfo:"MDP_mainInfo__3T5Y2",movieName:"MDP_movieName__337Wa",icon:"MDP_icon__R7lKB",button:"MDP_button__tgHiS",moreInfo:"MDP_moreInfo__251kn"}},39:function(e,t,a){e.exports={wrapper:"App_wrapper__1ghCI"}},40:function(e,t,a){e.exports=a(87)},87:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(36),o=a.n(c),i=a(16),s=a(6),l=a(7),u=a(9),m=a(8),h=a(10),p=a(12),v=a.n(p),d=a(20),f=a(21),g=a.n(f),E="07252c2a6aa6a34a84f1028c4fcee284",b=function(){return Object(d.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("https://api.themoviedb.org/3/trending/all/day?api_key=".concat(E));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))()},_=function(e){return Object(d.a)(v.a.mark((function t(){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.get("https://api.themoviedb.org/3/search/movie?api_key=".concat(E,"&language=en-US&query=").concat(e,"&page=1&include_adult=false"));case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})))()},y=function(e){return Object(d.a)(v.a.mark((function t(){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.get("\n        https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat(E,"&language=en-US"));case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})))()},k=function(e){return Object(d.a)(v.a.mark((function t(){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.get("\n        https://api.themoviedb.org/3/movie/".concat(e,"/credits?api_key=").concat(E));case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})))()},w=function(e){return Object(d.a)(v.a.mark((function t(){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.get("\n        https://api.themoviedb.org/3/movie/".concat(e,"/reviews?api_key=").concat(E,"&language=en-US&page=1"));case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})))()},j=a(4),O=a(13),N=a.n(O),S=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={movies:[],isLoading:!1,error:null},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),b().then((function(t){var a=t.data;e.setState({movies:a.results})})).catch((function(t){return e.setState({error:t})})).finally((function(){return e.setState({isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.movies,a=e.isLoading,n=e.error,c=this.props.location;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Trending today"),n&&r.a.createElement("p",null,"Something wrong: ",n.message),a&&r.a.createElement(N.a,{type:"ThreeDots",color:"#00BFFF",height:50,width:50}),t.length&&r.a.createElement("ul",null,t.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(j.b,{to:{pathname:"/movies/".concat(e.id),state:{from:c}}},e.title||e.name))}))))}}]),t}(n.Component),C=a(22),x=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={inputValue:""},a.handleChange=function(e){var t=e.target;a.setState({inputValue:t.value})},a.handleSubmit=function(e){e.preventDefault(),a.props.onSearch(a.state.inputValue),a.setState({inputValue:""})},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.inputValue;return r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{type:"text",value:e,placeholder:"Search movies...",onChange:this.handleChange}))}}]),t}(n.Component),L=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={movies:[],isLoading:!1,error:null},a.onSearch=function(e){a.props.history.push(Object(C.a)({},a.props.location,{search:"query=".concat(e)})),a.setState({isLoading:!0}),_(e).then((function(e){var t=e.data;a.setState({movies:t.results})})).catch((function(e){return a.setState({error:e})})).finally((function(){return a.setState({isLoading:!1})}))},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.movies,a=e.error,n=e.isLoading,c=this.props.location;return r.a.createElement("div",null,r.a.createElement(x,{onSearch:this.onSearch}),a&&r.a.createElement("p",null,"Whoops, something went wrong: ",a.message),n&&r.a.createElement(N.a,{type:"ThreeDots",color:"#00BFFF",height:50,width:50}),r.a.createElement("ul",null,t.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(j.b,{to:{pathname:"/movies/".concat(e.id),state:{from:c}}},e.title||e.name))}))))}}]),t}(n.Component),I=a(17),D=a.n(I),F=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={cast:[],isLoading:!1,error:null},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0});var t=this.props.match.params.movieId;k(t).then((function(t){var a=t.data;e.setState({cast:a.cast})})).catch((function(t){return e.setState({error:t})})).finally((function(){return e.setState({isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.cast,a=e.error,n=e.isLoading;return r.a.createElement("div",null,a&&r.a.createElement("p",null,"Whoops, something went wrong: ",a.message),n&&r.a.createElement(N.a,{type:"ThreeDots",color:"#00BFFF",height:50,width:50}),r.a.createElement("ul",{className:D.a.list},t.map((function(e){return r.a.createElement("li",{className:D.a.listItem,key:e.cast_id,name:"scroll-to-element"},r.a.createElement("div",{className:D.a.actorCard},r.a.createElement("p",{className:D.a.character},"Character:"),r.a.createElement("p",{className:D.a.characterName},e.character),r.a.createElement("div",{className:D.a.imageBox},r.a.createElement("img",{src:e.profile_path?"https://image.tmdb.org/t/p/w500/".concat(e.profile_path):"https://avatarko.ru/img/kartinka/13/muzhchina_siluet_shlyapa_12433.jpg",alt:e.name})),r.a.createElement("p",{className:D.a.name},e.name)))}))))}}]),t}(n.Component),B=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={results:[],isLoading:!1,error:null},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.movieId;w(t).then((function(t){var a=t.data;e.setState({results:a.results})})).catch((function(t){return e.setState({error:t})})).finally((function(){return e.setState({isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.results,a=e.error,n=e.isLoading;return r.a.createElement("div",null,a&&r.a.createElement("p",null,"something wrong: ",a.message),n&&r.a.createElement(N.a,{type:"ThreeDots",color:"#00BFFF",height:50,width:50}),t.length?r.a.createElement("ul",null,t.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("p",null,"Author: ",e.author),r.a.createElement("p",null,e.content))}))):r.a.createElement("p",null,"No reviews found"))}}]),t}(n.Component),M=a(19),A=a.n(M),P=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={details:{},isLoading:!1,error:null},a.handleGoback=function(){var e=a.props,t=e.history,n=e.location;return n.state?t.push(n.state.from):t.push("/")},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0});var t=this.props.match.params.movieId;y(t).then((function(t){var a=t.data;e.setState({details:a})})).catch((function(t){return e.setState({error:t})})).finally((function(){return e.setState({isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.details,a=e.isLoading,n=e.error,c=this.props,o=c.match,s=c.location;return r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:A.a.button,onClick:this.handleGoback},"Go back"),n&&r.a.createElement("p",null,"Whoops, something went wrong: ",n.message),a&&r.a.createElement(N.a,{type:"ThreeDots",color:"#00BFFF",height:50,width:50}),Object.keys(t).length&&r.a.createElement("div",null,r.a.createElement("div",{className:A.a.movieCard},r.a.createElement("div",{className:A.a.mainInfo},r.a.createElement("div",{className:A.a.imageBox},r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w500/".concat(t.poster_path),alt:"Poster"})),r.a.createElement("div",null,r.a.createElement("h3",{className:A.a.movieName},t.title),r.a.createElement("p",null,"User Score ",10*t.vote_average,"%"),r.a.createElement("h4",null,"Overview"),r.a.createElement("p",null,t.overview),r.a.createElement("h4",null,"Genres"),r.a.createElement("p",null,t.genres.map((function(e){return r.a.createElement("span",{key:e.id},e.name," ")})))))),r.a.createElement("p",null,"Additinal information"),r.a.createElement("ul",{className:A.a.moreInfo},r.a.createElement("li",null,r.a.createElement(j.b,{to:{pathname:"/movies/".concat(t.id,"/cast"),state:Object(C.a)({},s)}},"Cast")),r.a.createElement("li",null,r.a.createElement(j.b,{to:{pathname:"/movies/".concat(t.id,"/reviews"),state:Object(C.a)({},s)}},"Rewiews"))),r.a.createElement(i.b,{path:"".concat(o.path,"/cast"),component:F}),r.a.createElement(i.b,{path:"".concat(o.path,"/reviews"),component:B})))}}]),t}(n.Component),T=a(15),U=a.n(T),V=function(){return r.a.createElement("div",{className:U.a.nav},r.a.createElement("ul",{className:U.a.list},r.a.createElement("li",{className:U.a.listItem},r.a.createElement(j.c,{to:"/",exact:!0,className:U.a.link,activeClassName:U.a.activeLink},"Home")),r.a.createElement("li",{className:U.a.listItem},r.a.createElement(j.c,{to:"/movies",className:U.a.link,activeClassName:U.a.activeLink},"Movies"))))},G=a(39),W=a.n(G),z=function(){return r.a.createElement("div",{className:W.a.wrapper},r.a.createElement(V,null),r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/",exact:!0,component:S}),r.a.createElement(i.b,{path:"/movies/:movieId",component:P}),r.a.createElement(i.b,{path:"/movies",component:L}),r.a.createElement(i.a,{to:"/"})))};o.a.render(r.a.createElement(j.a,null,r.a.createElement(z,null)),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.0e2ba402.chunk.js.map